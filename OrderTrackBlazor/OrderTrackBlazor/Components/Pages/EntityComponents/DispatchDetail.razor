@inherits DispatchDetailComponent
<div class="row g-3">
  <div class="col-6 col-sm-6">
    <DateTimePicker @bind-Value="@Model.DispatchDate" Format="dd/MM/yyyy" ShowLabel="true" DisplayText="出库日期" />


  </div>
  <div class="col-6 col-sm-6">
    <Select Items="StatusItem" OnSelectedItemChanged="OnItemChanged" @bind-Value="SelectedStatusItem"
            ShowLabel="true"
            DisplayText="状态"></Select>
  </div>
  <div class="col-6 col-sm-6">
    <DateTimePicker @bind-Value="@Model.IncomeDate" Format="dd/MM/yyyy" ShowLabel="true" DisplayText="结账日期" />
  </div>
  <div class="col-6 col-sm-6">
    <BootstrapInputNumber @bind-Value="Model!.Income"
                          ShowLabel="true"
                          DisplayText="收入" />
  </div>
  <div class="col-12">
    <Table TItem="DispatchDetailItemDTO" Items="@Model.Items">
      <TableColumns>
        <TableColumn @bind-Field="@context.ProductionName" Text="产品">

        </TableColumn>
        <TableColumn @bind-Field="@context.RowId" Text="数量" Width="200">
          <Template Context="value">
            @{
              var item = Model.Items.FirstOrDefault(b => b.RowId == value.Value);
            }
            <BootstrapInputNumber @bind-Value="item.Number"
                                  ShowLabel="false" />
          </Template>
        </TableColumn>

      </TableColumns>

    </Table>
  </div>
</div>
